{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/angular-material.module.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/authentication.service.ts","webpack:///src/app/booklist/book.ts","webpack:///src/app/booklist/booklist.component.ts","webpack:///src/app/booklist/booklist.component.html","webpack:///src/app/booklist/booklist-entry-update-dialog.html","webpack:///src/app/booklist/booklist-entry-delete-dialog.html","webpack:///src/app/books.service.ts","webpack:///src/app/friends/friends.component.ts","webpack:///src/app/friends/friends.component.html","webpack:///src/app/home/home.component.ts","webpack:///src/app/home/home.component.html","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/app/profile/profile.component.ts","webpack:///src/app/profile/profile.component.html","webpack:///src/app/register/register.component.ts","webpack:///src/app/register/register.component.html","webpack:///src/app/stats.service.ts","webpack:///src/app/timeline/timeline.component.ts","webpack:///src/app/timeline/timeline.component.html","webpack:///src/app/users.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","materialModules","AngularMaterialModule","imports","routes","path","component","AppRoutingModule","forRoot","auth","AppComponent","selector","templateUrl","styleUrls","AppModule","declarations","providers","bootstrap","AuthenticationService","http","router","token","localStorage","setItem","getItem","method","uri","user","base$","post","get","headers","Authorization","getToken","request","pipe","data","saveToken","window","removeItem","navigateByUrl","payload","split","atob","JSON","parse","getUserDetails","exp","Date","now","providedIn","StatusMapToCamelCase","Map","Ratings","value","text","statusOrder","BooklistComponent","fb","book","dialog","stat","ratings","checkboxes","formControlName","color","getBooklist","profile","subscribe","setBookList","bookList","updateStats","sortBookList","filterBookList","sort","a","b","status","visibleBookList","filter","entry","filters","removeHTMLTags","str","i","length","includes","charAt","substring","replace","group","completed","dropped","onHold","reading","planToRead","addBookFormGroup","title","rating","currentPageCount","review","startDate","endDate","onChanges","updateNewBookOptionsDropDown","valueChanges","userInput","searchBookByTitle","books","newBookOptions","titleSelected","volumeInfo","bookToAdd","reset","dataFromAddBookFormGroup","getRawValue","pageCount","booklistEntryToAdd","volumeId","addToUserBooklist","res","removeFromUserBooklist","updateBooklistEntry","dialogRef","open","deleteEntryVerificationDialog","width","height","afterClosed","shouldDelete","removeBookFromUserList","updateEntryDialog","updatedEntry","stats","getStats","init","addBookToUserList","updatedEntryFormGroup","currentPage","vId","close","cancel","updateEntry","deleteEntry","BooksService","params","booklistEntry","notes","put","FriendsComponent","users","_snackBar","friendsList","updatingFriendCode","updateFriendsList","friendCode","generateFriendsList","friends","friendIds","forEach","getUser","push","updateFriendCode","newFriendCode","err","openErrorSnackBar","addFriend","addFriendCode","message","HomeComponent","statsService","LoginComponent","credentials","email","password","login","console","error","ProfileComponent","details","RegisterComponent","name","register","StatsService","pagesRead","getPagesRead","averageRating","getAverageRating","total","totalRating","numberOfRatings","Math","round","toFixed","TimelineComponent","UsersService","toString","environment","production"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { CdkTreeModule } from '@angular/cdk/tree';\r\nimport { PortalModule } from '@angular/cdk/portal';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatNativeDateModule, MatRippleModule } from '@angular/material/core';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatTreeModule } from '@angular/material/tree';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatGridListModule } from '@angular/material/grid-list';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\n\r\nconst materialModules = [\r\n  CdkTreeModule,\r\n  MatAutocompleteModule,\r\n  MatButtonModule,\r\n  MatCardModule,\r\n  MatCheckboxModule,\r\n  MatChipsModule,\r\n  MatDividerModule,\r\n  MatExpansionModule,\r\n  MatIconModule,\r\n  MatInputModule,\r\n  MatListModule,\r\n  MatMenuModule,\r\n  MatProgressSpinnerModule,\r\n  MatPaginatorModule,\r\n  MatRippleModule,\r\n  MatSelectModule,\r\n  MatSidenavModule,\r\n  MatSnackBarModule,\r\n  MatSortModule,\r\n  MatTableModule,\r\n  MatTabsModule,\r\n  MatToolbarModule,\r\n  MatFormFieldModule,\r\n  MatButtonToggleModule,\r\n  MatTreeModule,\r\n  OverlayModule,\r\n  PortalModule,\r\n  MatBadgeModule,\r\n  MatGridListModule,\r\n  MatRadioModule,\r\n  MatDatepickerModule,\r\n  MatTooltipModule,\r\n  MatNativeDateModule,\r\n  MatDialogModule,\r\n];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, ...materialModules],\r\n  exports: [...materialModules],\r\n})\r\nexport class AngularMaterialModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { ProfileComponent } from './profile/profile.component';\r\nimport { BooklistComponent } from './booklist/booklist.component';\r\nimport { FriendsComponent } from './friends/friends.component';\r\nimport { TimelineComponent } from './timeline/timeline.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: HomeComponent },\r\n  { path: 'login', component: LoginComponent },\r\n  { path: 'register', component: RegisterComponent },\r\n  { path: 'profile', component: ProfileComponent },\r\n  { path: 'booklist', component: BooklistComponent },\r\n  { path: 'friends', component: FriendsComponent },\r\n  { path: 'timeline', component: TimelineComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n","import { Component } from '@angular/core';\r\nimport { AuthenticationService } from './authentication.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css'],\r\n})\r\nexport class AppComponent {\r\n  constructor(public auth: AuthenticationService) {}\r\n}\r\n","<mat-toolbar color=\"primary\">\r\n  <mat-toolbar-row>\r\n    <a mat-button style=\"font-size: 2vh\" [routerLink]=\"'/'\">Book Hero</a>\r\n    <div fxShow=\"true\" fxFlex fxLayout>\r\n      <div fxFlex>\r\n        <a mat-button *ngIf=\"!auth.isLoggedIn()\" [routerLink]=\"'/login'\"\r\n          >Log in</a\r\n        >\r\n        <a mat-button *ngIf=\"!auth.isLoggedIn()\" [routerLink]=\"'/register'\"\r\n          >Sign up</a\r\n        >\r\n\r\n        <a mat-button *ngIf=\"auth.isLoggedIn()\" [routerLink]=\"'/booklist'\"\r\n          >My List</a\r\n        >\r\n        <a mat-button *ngIf=\"auth.isLoggedIn()\" [routerLink]=\"'/timeline'\"\r\n          >Timeline</a\r\n        >\r\n        <a mat-button *ngIf=\"auth.isLoggedIn()\" [routerLink]=\"'/friends'\"\r\n          >Friends</a\r\n        >\r\n      </div>\r\n      <div fxFlex fxLayoutAlign=\"flex-end center\">\r\n        <a mat-button *ngIf=\"auth.isLoggedIn()\" [routerLink]=\"'/profile'\"\r\n          >Profile</a\r\n        >\r\n        <a mat-button *ngIf=\"auth.isLoggedIn()\" (click)=\"auth.logout()\"\r\n          >Logout</a\r\n        >\r\n      </div>\r\n    </div>\r\n  </mat-toolbar-row>\r\n</mat-toolbar>\r\n\r\n<router-outlet></router-outlet>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\n\r\n// Routing\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\n\r\n// Angular Material\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { AngularMaterialModule } from './angular-material.module';\r\nimport { NgModule } from '@angular/core';\r\n\r\n// FormsModule\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n// Angular Flex Layout\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n// Components\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { ProfileComponent } from './profile/profile.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { BooklistComponent } from './booklist/booklist.component';\r\nimport { updateEntryDialog } from './booklist/booklist.component';\r\nimport { deleteEntryVerificationDialog } from './booklist/booklist.component';\r\nimport { FriendsComponent } from './friends/friends.component';\r\nimport { TimelineComponent } from './timeline/timeline.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    RegisterComponent,\r\n    ProfileComponent,\r\n    LoginComponent,\r\n    HomeComponent,\r\n    BooklistComponent,\r\n    updateEntryDialog,\r\n    deleteEntryVerificationDialog,\r\n    FriendsComponent,\r\n    TimelineComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    BrowserAnimationsModule,\r\n    AngularMaterialModule,\r\n    FlexLayoutModule,\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nexport interface UserDetails {\r\n  _id: string;\r\n  email: string;\r\n  name: string;\r\n  exp: number;\r\n  iat: number;\r\n}\r\n\r\ninterface TokenResponse {\r\n  token: string;\r\n}\r\n\r\nexport interface TokenPayload {\r\n  email: string;\r\n  password: string;\r\n  name?: string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthenticationService {\r\n  private token: string;\r\n\r\n  constructor(private http: HttpClient, private router: Router) {}\r\n\r\n  private saveToken(token: string): void {\r\n    localStorage.setItem('auth-token', token);\r\n    this.token = token;\r\n  }\r\n\r\n  public getToken(): string {\r\n    if (!this.token) {\r\n      this.token = localStorage.getItem('auth-token');\r\n    }\r\n    return this.token;\r\n  }\r\n\r\n  private request(\r\n    method: 'post' | 'get',\r\n    uri: 'auth/login' | 'auth/register' | 'users/me',\r\n    user?: TokenPayload\r\n  ): Observable<any> {\r\n    let base$;\r\n\r\n    if (method === 'post') {\r\n      base$ = this.http.post(`/api/${uri}`, user);\r\n    } else {\r\n      base$ = this.http.get(`/api/${uri}`, {\r\n        headers: { Authorization: `Bearer ${this.getToken()}` },\r\n      });\r\n    }\r\n\r\n    const request = base$.pipe(\r\n      map((data: TokenResponse) => {\r\n        if (data.token) {\r\n          this.saveToken(data.token);\r\n        }\r\n        return data;\r\n      })\r\n    );\r\n\r\n    return request;\r\n  }\r\n\r\n  public logout(): void {\r\n    this.token = '';\r\n    window.localStorage.removeItem('auth-token');\r\n    this.router.navigateByUrl('/');\r\n  }\r\n\r\n  public getUserDetails(): UserDetails {\r\n    const token = this.getToken();\r\n    let payload;\r\n    if (token) {\r\n      payload = token.split('.')[1];\r\n      payload = window.atob(payload);\r\n      return JSON.parse(payload);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public isLoggedIn(): boolean {\r\n    const user = this.getUserDetails();\r\n    if (user) {\r\n      return user.exp > Date.now() / 1000;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public register(user: TokenPayload): Observable<any> {\r\n    return this.request('post', 'auth/register', user);\r\n  }\r\n\r\n  public login(user: TokenPayload): Observable<any> {\r\n    return this.request('post', 'auth/login', user);\r\n  }\r\n\r\n  public profile(): Observable<any> {\r\n    return this.request('get', 'users/me');\r\n  }\r\n}\r\n","export const StatusMapToCamelCase = new Map<string, string>([\r\n  ['Completed', 'completed'],\r\n  ['Dropped', 'dropped'],\r\n  ['On-hold', 'onHold'],\r\n  ['Reading', 'reading'],\r\n  ['Plan to read', 'planToRead'],\r\n]);\r\n\r\nexport const Ratings = [\r\n  { value: 10, text: '10 - masterpiece' },\r\n  { value: 9, text: '9 - really good' },\r\n  { value: 8, text: '8 - great' },\r\n  { value: 7, text: '7 - good' },\r\n  { value: 6, text: '6 - okay' },\r\n  { value: 5, text: '5 - not great' },\r\n  { value: 4, text: '4 - bad' },\r\n  { value: 3, text: '3 - really bad' },\r\n  { value: 2, text: '2 - horrible' },\r\n  { value: 1, text: '1 - abysmal' },\r\n];\r\n\r\nexport const statusOrder: Map<string, number> = new Map([\r\n  ['Completed', 1],\r\n  ['Dropped', 2],\r\n  ['On-hold', 3],\r\n  ['Reading', 4],\r\n  ['Plan to read', 5],\r\n]);\r\n\r\nexport interface Book {\r\n  title: string;\r\n  author: string;\r\n  pageCount: number;\r\n  coverImage: string;\r\n  blurb?: string;\r\n  categories: string[];\r\n  datePublished: Date;\r\n}\r\n\r\nexport interface BookListEntry {\r\n  volumeId: string;\r\n  book?: Book;\r\n  status: string;\r\n  notes?: string;\r\n  currentPageCount: number;\r\n  rating?: number;\r\n  review?: number;\r\n  startDate?: Date;\r\n  endDate?: Date;\r\n}\r\n","import { debounceTime } from 'rxjs/operators';\r\nimport { Component, Inject, Input, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport {\r\n  MatDialog,\r\n  MatDialogRef,\r\n  MAT_DIALOG_DATA,\r\n} from '@angular/material/dialog';\r\n\r\nimport {\r\n  BookListEntry,\r\n  Ratings,\r\n  StatusMapToCamelCase,\r\n  statusOrder,\r\n} from './book';\r\nimport { AuthenticationService } from '../authentication.service';\r\nimport { BooksService } from '../books.service';\r\nimport { StatsService, Stats } from '../stats.service';\r\n\r\n@Component({\r\n  selector: 'app-booklist',\r\n  templateUrl: './booklist.component.html',\r\n  styleUrls: ['./booklist.component.scss'],\r\n})\r\nexport class BooklistComponent implements OnInit {\r\n  bookList: BookListEntry[];\r\n  visibleBookList: BookListEntry[];\r\n\r\n  @Input() filters: FormGroup;\r\n  @Input() addBookFormGroup: FormGroup;\r\n\r\n  stats: Stats;\r\n  ratings = Ratings;\r\n\r\n  checkboxes = [\r\n    { formControlName: 'completed', text: 'Completed', color: 'lightgreen' },\r\n    { formControlName: 'dropped', text: 'Dropped', color: 'rgb(226, 82, 65)' },\r\n    { formControlName: 'onHold', text: 'On-hold', color: 'lightcoral' },\r\n    {\r\n      formControlName: 'reading',\r\n      text: 'Reading',\r\n      color: 'rgb(60, 150, 236)',\r\n    },\r\n    { formControlName: 'planToRead', text: 'Plan to read', color: 'lightgray' },\r\n  ];\r\n\r\n  newBookOptions: any[];\r\n  titleSelected: string[];\r\n  bookToAdd: any;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private auth: AuthenticationService,\r\n    public book: BooksService,\r\n    public dialog: MatDialog,\r\n    public stat: StatsService\r\n  ) {\r\n    this.filters = fb.group({\r\n      completed: true,\r\n      dropped: false,\r\n      onHold: false,\r\n      reading: true,\r\n      planToRead: false,\r\n    });\r\n\r\n    this.addBookFormGroup = fb.group({\r\n      title: '',\r\n      status: 'Reading',\r\n      rating: '',\r\n      currentPageCount: 0,\r\n      review: '',\r\n      startDate: Date.now(),\r\n      endDate: Date.now(),\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getBooklist();\r\n\r\n    this.onChanges();\r\n  }\r\n\r\n  getBooklist = () => {\r\n    this.auth.profile().subscribe((user) => {\r\n      this.setBookList(user);\r\n    });\r\n  };\r\n\r\n  setBookList = (user) => {\r\n    this.bookList = user.bookList;\r\n\r\n    this.updateStats();\r\n    this.sortBookList();\r\n    this.filterBookList();\r\n  };\r\n\r\n  sortBookList = (): void => {\r\n    this.bookList.sort((a, b) =>\r\n      statusOrder.get(a.status) < statusOrder.get(b.status) ? -1 : 1\r\n    );\r\n  };\r\n\r\n  filterBookList = (): void => {\r\n    this.visibleBookList = this.bookList.filter(\r\n      (entry) => this.filters.get(StatusMapToCamelCase.get(entry.status)).value\r\n    );\r\n  };\r\n\r\n  onChanges() {\r\n    this.updateNewBookOptionsDropDown();\r\n\r\n    this.filters.valueChanges.subscribe(() => {\r\n      this.filterBookList();\r\n    });\r\n  }\r\n\r\n  updateNewBookOptionsDropDown(): void {\r\n    this.addBookFormGroup\r\n      .get('title')\r\n      .valueChanges.pipe(debounceTime(250))\r\n      .subscribe((userInput) => {\r\n        this.book.searchBookByTitle(userInput).subscribe((books) => {\r\n          this.newBookOptions = books;\r\n        });\r\n      });\r\n  }\r\n\r\n  setBookToAdd(book) {\r\n    this.titleSelected = [book.volumeInfo.title];\r\n    this.bookToAdd = book;\r\n\r\n    this.addBookFormGroup.get('title').reset();\r\n  }\r\n\r\n  addBookToUserList() {\r\n    const dataFromAddBookFormGroup = (({\r\n      status,\r\n      review,\r\n      startDate,\r\n      endDate,\r\n      rating,\r\n      currentPageCount,\r\n    }) => ({ status, review, startDate, endDate, rating, currentPageCount }))(\r\n      this.addBookFormGroup.getRawValue()\r\n    );\r\n\r\n    dataFromAddBookFormGroup.currentPageCount =\r\n      this.addBookFormGroup.get('status').value == 'Completed'\r\n        ? this.bookToAdd.volumeInfo.pageCount\r\n        : this.addBookFormGroup.get('currentPageCount').value;\r\n\r\n    const booklistEntryToAdd: BookListEntry = {\r\n      volumeId: this.bookToAdd.id,\r\n      ...dataFromAddBookFormGroup,\r\n    };\r\n\r\n    this.book.addToUserBooklist(booklistEntryToAdd).subscribe((res) => {\r\n      this.getBooklist();\r\n    });\r\n\r\n    this.titleSelected = [];\r\n    this.addBookFormGroup.reset();\r\n  }\r\n\r\n  removeBookFromUserList(volumeId) {\r\n    this.book.removeFromUserBooklist(volumeId).subscribe((res) => {\r\n      this.getBooklist();\r\n    });\r\n  }\r\n\r\n  updateBooklistEntry(entry: BookListEntry) {\r\n    this.book.updateBooklistEntry(entry).subscribe((res) => {\r\n      this.getBooklist();\r\n    });\r\n  }\r\n\r\n  deleteEntryVerification(volumeId): void {\r\n    const dialogRef = this.dialog.open(deleteEntryVerificationDialog, {\r\n      width: '300px',\r\n      height: '200px',\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((shouldDelete) => {\r\n      if (shouldDelete) this.removeBookFromUserList(volumeId);\r\n    });\r\n  }\r\n\r\n  toggleUpdateEntryDialog(entry: BookListEntry): void {\r\n    const dialogRef = this.dialog.open(updateEntryDialog, {\r\n      width: '20vw',\r\n      height: '50vh',\r\n      data: entry,\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((updatedEntry) => {\r\n      if (!updatedEntry) return;\r\n      this.updateBooklistEntry(updatedEntry);\r\n    });\r\n  }\r\n\r\n  updateStats() {\r\n    this.stats = this.bookList\r\n      ? this.stat.getStats(this.bookList)\r\n      : this.stat.init();\r\n  }\r\n\r\n  removeHTMLTags = (str: string): string => {\r\n    for (let i = 0; i < str.length - 1; i++) {\r\n      if (\r\n        ['.', ',', '!', '?'].includes(str.charAt(i)) &&\r\n        str.charAt(i + 1) != ' '\r\n      ) {\r\n        str =\r\n          str.substring(0, i + 1) + ' ' + str.substring(i + 1, str.length + 1);\r\n      }\r\n    }\r\n    return str.replace(/(<([^>]+)>)/gi, '');\r\n  };\r\n}\r\n\r\n@Component({\r\n  selector: 'booklist-entry-update-dialog',\r\n  templateUrl: './booklist-entry-update-dialog.html',\r\n})\r\nexport class updateEntryDialog {\r\n  @Input() updatedEntryFormGroup: FormGroup;\r\n  ratings = Ratings;\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<updateEntryDialog>,\r\n    @Inject(MAT_DIALOG_DATA) public updatedEntry: BookListEntry,\r\n    public fb: FormBuilder\r\n  ) {\r\n    this.updatedEntryFormGroup = fb.group({\r\n      status: updatedEntry.status,\r\n      rating: updatedEntry.rating,\r\n      currentPage: updatedEntry.currentPageCount,\r\n      review: updatedEntry.review,\r\n      startDate: updatedEntry.startDate,\r\n      endDate: updatedEntry.endDate,\r\n    });\r\n  }\r\n\r\n  updateEntry(): void {\r\n    const vId = this.updatedEntry.volumeId;\r\n    const book = this.updatedEntry.book;\r\n    this.updatedEntry = {\r\n      volumeId: vId,\r\n      status: this.updatedEntryFormGroup.get('status').value,\r\n      rating: this.updatedEntryFormGroup.get('rating').value,\r\n      currentPageCount: this.updatedEntryFormGroup.get('currentPage').value,\r\n      review: this.updatedEntryFormGroup.get('review').value,\r\n      startDate: this.updatedEntryFormGroup.get('startDate').value,\r\n      endDate: this.updatedEntryFormGroup.get('endDate').value,\r\n      book: book,\r\n    };\r\n    this.dialogRef.close(this.updatedEntry);\r\n  }\r\n\r\n  cancel(): void {\r\n    this.dialogRef.close(false);\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close(false);\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'book-list-entry-delete-dialog',\r\n  templateUrl: './booklist-entry-delete-dialog.html',\r\n})\r\nexport class deleteEntryVerificationDialog {\r\n  constructor(public dialogRef: MatDialogRef<deleteEntryVerificationDialog>) {}\r\n\r\n  deleteEntry(): void {\r\n    this.dialogRef.close(true);\r\n  }\r\n\r\n  cancel(): void {\r\n    this.dialogRef.close(false);\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close(false);\r\n  }\r\n}\r\n","<mat-grid-list cols=\"5\" rowHeight=\"25vh\">\r\n  <mat-grid-tile colspan=\"1\" rowspan=\"2\">\r\n    <mat-card class=\"container\">\r\n      <mat-card-title>Filters</mat-card-title>\r\n      <section [formGroup]=\"filters\">\r\n        <div *ngFor=\"let box of checkboxes\">\r\n          <p>\r\n            <mat-checkbox\r\n              color=\"primary\"\r\n              [formControlName]=\"box.formControlName\"\r\n              >{{ box.text }}</mat-checkbox\r\n            >\r\n          </p>\r\n          <div\r\n            class=\"filter-legend\"\r\n            [ngStyle]=\"{ 'background-color': box.color }\"\r\n            *ngIf=\"filters.get(box.formControlName).value\"\r\n          ></div>\r\n        </div>\r\n      </section>\r\n    </mat-card>\r\n  </mat-grid-tile>\r\n  <mat-grid-tile\r\n    colspan=\"3\"\r\n    rowspan=\"{{ bookList.length < 6 ? 6 : bookList.length + 1 }}\"\r\n  >\r\n    <div class=\"book-list-container\">\r\n      <mat-card *ngFor=\"let entry of visibleBookList\" class=\"book-list-entry\">\r\n        <img\r\n          src=\"{{ entry.book.coverImage }}\"\r\n          alt=\"\"\r\n          class=\"book-list-entry-image\"\r\n        />\r\n\r\n        <div class=\"book-list-entry-text\">\r\n          <mat-card-title class=\"book-list-entry-title\">{{\r\n            entry.book.title\r\n          }}</mat-card-title>\r\n          <mat-card-content>\r\n            <h3>by {{ entry.book.author }}</h3>\r\n            <div class=\"line-clamp\">\r\n              <p>{{ removeHTMLTags(entry.book.blurb) }}</p>\r\n            </div>\r\n          </mat-card-content>\r\n        </div>\r\n        <div [ngClass]=\"[entry.status, 'book-list-entry-status-bar']\"></div>\r\n        <div class=\"book-list-entry-info\">\r\n          <mat-card\r\n            [ngClass]=\"['rating-' + entry.rating, 'book-list-entry-rating']\"\r\n          >\r\n            {{ entry.rating ? entry.rating : '-' }} / 10\r\n          </mat-card>\r\n          <mat-card [ngClass]=\"['book-list-entry-category']\">{{\r\n            entry.book.categories[0]\r\n              ? entry.book.categories[0]\r\n              : 'No genre information'\r\n          }}</mat-card>\r\n        </div>\r\n        <button\r\n          class=\"book-list-entry-update-button\"\r\n          mat-icon-button\r\n          (click)=\"toggleUpdateEntryDialog(entry)\"\r\n        >\r\n          <mat-icon>edit</mat-icon>\r\n        </button>\r\n        <button\r\n          class=\"book-list-entry-delete-button\"\r\n          mat-icon-button\r\n          (click)=\"deleteEntryVerification(entry.volumeId)\"\r\n        >\r\n          <mat-icon>delete</mat-icon>\r\n        </button>\r\n      </mat-card>\r\n      <mat-card class=\"no-books\" *ngIf=\"bookList.length == 0\"\r\n        >Nothing to display</mat-card\r\n      >\r\n    </div>\r\n  </mat-grid-tile>\r\n  <mat-grid-tile colspan=\"1\" rowspan=\"3\">\r\n    <div class=\"add-a-book-container\">\r\n      <mat-card class=\"container\">\r\n        <mat-card-title class=\"add-a-book-header\">Add a book</mat-card-title>\r\n        <form [formGroup]=\"addBookFormGroup\" (ngSubmit)=\"addBookToUserList()\">\r\n          <mat-form-field>\r\n            <mat-chip-list #chipList>\r\n              <mat-chip\r\n                *ngFor=\"let title of titleSelected\"\r\n                [removable]=\"true\"\r\n                (removed)=\"titleSelected = []\"\r\n              >\r\n                <span>{{ title }}</span>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n              <input\r\n                #autocompleteInput\r\n                type=\"text\"\r\n                placeholder=\"Enter title\"\r\n                matInput\r\n                formControlName=\"title\"\r\n                [matAutocomplete]=\"auto\"\r\n                [matChipInputFor]=\"chipList\"\r\n              />\r\n              <mat-autocomplete #auto=\"matAutocomplete\">\r\n                <mat-option\r\n                  *ngFor=\"let option of newBookOptions\"\r\n                  [value]=\"option.volumeInfo.title\"\r\n                  (onSelectionChange)=\"setBookToAdd(option)\"\r\n                >\r\n                  {{ option.volumeInfo.title }} by\r\n                  {{ option.volumeInfo.authors }}\r\n                </mat-option>\r\n              </mat-autocomplete>\r\n            </mat-chip-list>\r\n          </mat-form-field>\r\n          <mat-card-content>\r\n            <mat-form-field>\r\n              <mat-label>Status</mat-label>\r\n              <mat-select name=\"addBookStatus\" formControlName=\"status\">\r\n                <mat-option value=\"Completed\">Completed</mat-option>\r\n                <mat-option value=\"Dropped\">Dropped</mat-option>\r\n                <mat-option value=\"On-hold\">On-hold</mat-option>\r\n                <mat-option value=\"Reading\">Reading</mat-option>\r\n                <mat-option value=\"Plan to read\">Plan to read</mat-option>\r\n              </mat-select>\r\n            </mat-form-field>\r\n            <mat-form-field\r\n              *ngIf=\"\r\n                addBookFormGroup.get('status').value == 'Completed' ||\r\n                addBookFormGroup.get('status').value == 'Dropped'\r\n              \"\r\n            >\r\n              <mat-label>Rating</mat-label>\r\n              <mat-select name=\"addBookRating\" formControlName=\"rating\">\r\n                <mat-option\r\n                  *ngFor=\"let option of ratings\"\r\n                  [value]=\"option.value\"\r\n                  >{{ option.text }}</mat-option\r\n                >\r\n              </mat-select>\r\n            </mat-form-field>\r\n            <mat-form-field\r\n              *ngIf=\"addBookFormGroup.get('status').value == 'Completed'\"\r\n            >\r\n              <mat-label>Review</mat-label>\r\n              <textarea\r\n                matInput\r\n                formControlName=\"review\"\r\n                name=\"addBookReview\"\r\n              ></textarea>\r\n            </mat-form-field>\r\n            <mat-form-field\r\n              *ngIf=\"\r\n                addBookFormGroup.get('status').value == 'Reading' ||\r\n                addBookFormGroup.get('status').value == 'On-hold'\r\n              \"\r\n            >\r\n              <input\r\n                matInput\r\n                name=\"currentPageCount\"\r\n                placeholder=\"Current Page\"\r\n                formControlName=\"currentPageCount\"\r\n              />\r\n            </mat-form-field>\r\n            <mat-form-field\r\n              style=\"width: 85%\"\r\n              appearance=\"fill\"\r\n              *ngIf=\"\r\n                !(\r\n                  addBookFormGroup.get('status').value == 'Plan to read' ||\r\n                  addBookFormGroup.get('status').value == null\r\n                )\r\n              \"\r\n            >\r\n              <mat-label>Start date</mat-label>\r\n              <input\r\n                matInput\r\n                [matDatepicker]=\"picker\"\r\n                formControlName=\"startDate\"\r\n              />\r\n              <mat-datepicker-toggle\r\n                matSuffix\r\n                [for]=\"picker\"\r\n              ></mat-datepicker-toggle>\r\n              <mat-datepicker #picker></mat-datepicker>\r\n            </mat-form-field>\r\n            <mat-form-field\r\n              style=\"width: 85%\"\r\n              appearance=\"fill\"\r\n              *ngIf=\"\r\n                !(\r\n                  addBookFormGroup.get('status').value == 'Plan to read' ||\r\n                  addBookFormGroup.get('status').value == 'Reading' ||\r\n                  addBookFormGroup.get('status').value == null\r\n                )\r\n              \"\r\n            >\r\n              <mat-label>End date</mat-label>\r\n              <input\r\n                matInput\r\n                [matDatepicker]=\"picker\"\r\n                formControlName=\"endDate\"\r\n              />\r\n              <mat-datepicker-toggle\r\n                matSuffix\r\n                [for]=\"picker\"\r\n              ></mat-datepicker-toggle>\r\n              <mat-datepicker #picker></mat-datepicker>\r\n            </mat-form-field>\r\n          </mat-card-content>\r\n          <button\r\n            mat-raised-button\r\n            class=\"btn-block\"\r\n            style=\"position: absolute; bottom: 10%; width: 90%\"\r\n            (click)=\"addBookFormGroup.reset()\"\r\n          >\r\n            Clear\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            color=\"primary\"\r\n            class=\"btn-block\"\r\n            type=\"submit\"\r\n            style=\"position: absolute; bottom: 2%; width: 90%\"\r\n          >\r\n            Add entry!\r\n          </button>\r\n        </form>\r\n      </mat-card>\r\n    </div>\r\n  </mat-grid-tile>\r\n  <mat-grid-tile colspan=\"1\" rowspan=\"2\">\r\n    <mat-card class=\"container\">\r\n      <mat-card-title>Stats</mat-card-title>\r\n      <mat-card-content>\r\n        <h3>Completed: {{ stats.completed }}</h3>\r\n        <h3>Dropped: {{ stats.dropped }}</h3>\r\n        <h3>On-hold: {{ stats.onHold }}</h3>\r\n        <h3>Reading: {{ stats.reading }}</h3>\r\n        <h3>Plan to read: {{ stats.planToRead }}</h3>\r\n        <h3>Pages read: {{ stats.pagesRead }}</h3>\r\n        <h3>Average rating: {{ stats.averageRating }}</h3>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </mat-grid-tile>\r\n</mat-grid-list>\r\n","<h1 mat-dialog-title style=\"text-align: center\">\r\n  Update <span style=\"font-style: italic\">{{ updatedEntry.book.title }}</span>\r\n</h1>\r\n<div class=\"add-a-book-container\">\r\n  <form [formGroup]=\"updatedEntryFormGroup\">\r\n    <mat-form-field>\r\n      <mat-label>Status</mat-label>\r\n      <mat-select name=\"addBookStatus\" formControlName=\"status\">\r\n        <mat-option value=\"Completed\">Completed</mat-option>\r\n        <mat-option value=\"Dropped\">Dropped</mat-option>\r\n        <mat-option value=\"On-hold\">On-hold</mat-option>\r\n        <mat-option value=\"Reading\">Reading</mat-option>\r\n        <mat-option value=\"Plan to read\">Plan to read</mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n    <mat-form-field\r\n      *ngIf=\"\r\n                updatedEntryFormGroup.get('status').value == 'Completed' ||\r\n                updatedEntryFormGroup.get('status').value == 'Dropped'\r\n              \"\r\n    >\r\n      <mat-label>Rating</mat-label>\r\n      <mat-select name=\"addBookRating\" formControlName=\"rating\">\r\n        <mat-option *ngFor=\"let option of ratings\" [value]=\"option.value\"\r\n          >{{ option.text }}</mat-option\r\n        >\r\n      </mat-select>\r\n    </mat-form-field>\r\n    <mat-form-field\r\n      *ngIf=\"updatedEntryFormGroup.get('status').value == 'Completed'\"\r\n    >\r\n      <mat-label>Review</mat-label>\r\n      <textarea\r\n        matInput\r\n        formControlName=\"review\"\r\n        name=\"addBookReview\"\r\n      ></textarea>\r\n    </mat-form-field>\r\n    <mat-form-field\r\n      *ngIf=\"\r\n                updatedEntryFormGroup.get('status').value == 'Reading' ||\r\n                updatedEntryFormGroup.get('status').value == 'On-hold'\r\n              \"\r\n    >\r\n      <input\r\n        matInput\r\n        name=\"currentPage\"\r\n        placeholder=\"Current Page\"\r\n        formControlName=\"currentPage\"\r\n      />\r\n    </mat-form-field>\r\n  </form>\r\n</div>\r\n<div>\r\n  <button\r\n    mat-raised-button\r\n    style=\"margin-right: 1vw; margin-left: 2.8vw\"\r\n    (click)=\"cancel()\"\r\n  >\r\n    Cancel\r\n  </button>\r\n  <button\r\n    mat-raised-button\r\n    color=\"primary\"\r\n    (click)=\"updateEntry()\"\r\n    cdkFocusInitial\r\n  >\r\n    Update\r\n  </button>\r\n</div>\r\n","<h1 mat-dialog-title style=\"text-align: center\">\r\n  Are you sure you want to delete this entry?\r\n</h1>\r\n<div style=\"margin-top: 10%\">\r\n  <button\r\n    mat-raised-button\r\n    style=\"margin-left: 18%; float: left\"\r\n    (click)=\"cancel()\"\r\n  >\r\n    Cancel\r\n  </button>\r\n  <button\r\n    mat-stroked-button\r\n    style=\"margin-right: 18%; float: right\"\r\n    color=\"warn\"\r\n    (click)=\"deleteEntry()\"\r\n    cdkFocusInitial\r\n  >\r\n    Delete\r\n  </button>\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { BookListEntry } from './booklist/book';\r\nimport { AuthenticationService } from './authentication.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class BooksService {\r\n  constructor(private http: HttpClient, private auth: AuthenticationService) {}\r\n\r\n  public searchBookByTitle(title: string): Observable<any> {\r\n    return this.http.get('/api/books', {\r\n      params: {\r\n        title: title,\r\n      },\r\n    });\r\n  }\r\n\r\n  public addToUserBooklist(booklistEntry: BookListEntry): Observable<any> {\r\n    return this.http.post(\r\n      '/api/users/add-to-booklist',\r\n      {\r\n        status: booklistEntry.status,\r\n        notes: booklistEntry.notes,\r\n        currentPageCount: booklistEntry.currentPageCount,\r\n        rating: booklistEntry.rating,\r\n        review: booklistEntry.review,\r\n        startDate: booklistEntry.startDate,\r\n        endDate: booklistEntry.endDate,\r\n      },\r\n      {\r\n        params: {\r\n          volumeId: booklistEntry.volumeId,\r\n        },\r\n        headers: { Authorization: `Bearer ${this.auth.getToken()}` },\r\n      }\r\n    );\r\n  }\r\n\r\n  public updateBooklistEntry(booklistEntry: BookListEntry): Observable<any> {\r\n    return this.http.put('/api/users/update-booklist-entry', booklistEntry, {\r\n      params: {\r\n        volumeId: booklistEntry.volumeId,\r\n      },\r\n      headers: { Authorization: `Bearer ${this.auth.getToken()}` },\r\n    });\r\n  }\r\n\r\n  public removeFromUserBooklist(volumeId: string): Observable<any> {\r\n    return this.http.delete('api/users/remove-from-booklist', {\r\n      params: {\r\n        volumeId: volumeId,\r\n      },\r\n      headers: { Authorization: `Bearer ${this.auth.getToken()}` },\r\n    });\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { AuthenticationService } from '../authentication.service';\nimport { StatsService } from '../stats.service';\nimport { UsersService } from '../users.service';\nimport { Friend } from './friends';\n\n@Component({\n  selector: 'app-friends',\n  templateUrl: './friends.component.html',\n  styleUrls: ['./friends.component.scss'],\n})\nexport class FriendsComponent implements OnInit {\n  friendCode: string;\n  friendsList: Friend[] = [];\n\n  updatingFriendCode: boolean = false;\n  @Input() newFriendCode: string;\n\n  @Input() addFriendCode: string;\n\n  constructor(\n    private auth: AuthenticationService,\n    private users: UsersService,\n    private _snackBar: MatSnackBar,\n    private stats: StatsService\n  ) {}\n\n  ngOnInit() {\n    this.updateFriendsList();\n  }\n\n  updateFriendsList(): void {\n    this.auth.profile().subscribe((user) => {\n      this.friendCode = user.friendCode;\n      this.generateFriendsList(user.friends);\n    });\n  }\n\n  generateFriendsList(friendIds: number[]): void {\n    this.friendsList = [];\n    friendIds.forEach((id) => {\n      this.users.getUser(id).subscribe((user) => {\n        this.friendsList.push({\n          stats: this.stats.getStats(user.bookList),\n          ...user,\n        });\n      });\n    });\n  }\n\n  updateFriendCode(): void {\n    this.users.updateFriendCode(this.newFriendCode).subscribe(\n      (res) => {\n        this.friendCode = this.newFriendCode;\n\n        this.updatingFriendCode = false;\n        this.newFriendCode = '';\n      },\n      (err) => this.openErrorSnackBar('This friend code is already in use...')\n    );\n  }\n\n  addFriend(): void {\n    this.users.addFriend(this.addFriendCode).subscribe(\n      (res) => {\n        this.updateFriendsList();\n        this.addFriendCode = '';\n      },\n      (err) => {\n        this.openErrorSnackBar(\n          'No user found with friend code ' + this.addFriendCode\n        );\n      }\n    );\n  }\n\n  openErrorSnackBar(message: string): void {\n    this._snackBar.open(message, 'clear');\n  }\n}\n","<!-- <div class=\"container\">\n  <div class=\"wrapper\">\n    <h1>Friends Page Coming Soon<span class=\"dot\">.</span></h1>\n  </div> -->\n<!-- </div> -->\n\n<!-- <mat-card\n  ><form (submit)=\"updateFriendCode()\" class=\"update-friend-code-form\">\n    <mat-form-field class=\"formField\">\n      <mat-card-subtitle style=\"margin-bottom: 1vh\"\n        >Friend code:</mat-card-subtitle\n      >\n      <input\n        style=\"margin-top: 2vh\"\n        matInput\n        class=\"inputField\"\n        name=\"friendCode\"\n        [(ngModel)]=\"newFriendCode\"\n        [placeholder]=\"!newFriendCode ? friendCode : 'Friend Code'\"\n        type=\"text\"\n      />\n    </mat-form-field>\n    <button mat-stroked-button color=\"accent\" class=\"btn-block\">Update</button>\n  </form></mat-card\n> -->\n\n<h1 style=\"padding-left: 4.5vw; padding-top: 20px; font-size: 4vh\">\n  Friends List\n</h1>\n<mat-grid-list cols=\"4\" rowHeight=\"20vh\">\n  <mat-grid-tile\n    colspan=\"3\"\n    [rowspan]=\"friendsList.length ? friendsList.length + 1 : 2\"\n  >\n    <div class=\"friends-list-container\">\n      <mat-card class=\"friend-entry\" *ngFor=\"let friend of friendsList\">\n        <h1>{{ friend.name }}</h1>\n        <h3>Completed: {{ friend.stats.completed }}</h3>\n        <h3>Reading: {{ friend.stats.reading }}</h3>\n        <h3>Pages read: {{ friend.stats.pagesRead }}</h3>\n        <h3>Average rating: {{ friend.stats.averageRating }}</h3>\n      </mat-card>\n      <mat-card class=\"friend-entry\" *ngIf=\"friendsList.length == 0\">\n        <h3>\n          Add some friends using the card on the right, or share your friend\n          code with others!\n        </h3>\n      </mat-card>\n    </div>\n  </mat-grid-tile>\n  <mat-grid-tile colspan=\"1\" rowspan=\"1\">\n    <mat-card class=\"container\">\n      <h1>Friend code:</h1>\n      <div style=\"width: 40%; height: 100%; float: left\">\n        <form\n          *ngIf=\"updatingFriendCode\"\n          (submit)=\"updateFriendCode()\"\n          class=\"update-friend-code-form\"\n        >\n          <mat-form-field class=\"formField\">\n            <input\n              matInput\n              class=\"inputField\"\n              name=\"friendCode\"\n              [(ngModel)]=\"newFriendCode\"\n              placeholder=\"Friend Code\"\n              type=\"text\"\n              color=\"primary\"\n            />\n          </mat-form-field>\n          <button mat-raised-button color=\"accent\" class=\"btn-block\">\n            Update\n          </button>\n        </form>\n        <h2 *ngIf=\"!updatingFriendCode\" color=\"primary\">\n          {{ friendCode ? friendCode : 'Please set a friend code!' }}\n        </h2>\n      </div>\n      <div style=\"width: 55%; height: 100%; float: right\">\n        <button\n          *ngIf=\"!updatingFriendCode\"\n          class=\"friend-code-update-button\"\n          mat-icon-button\n          (click)=\"updatingFriendCode = true\"\n        >\n          <mat-icon>edit</mat-icon>\n        </button>\n        <button\n          *ngIf=\"updatingFriendCode\"\n          class=\"friend-code-cancel-button\"\n          mat-icon-button\n          (click)=\"updatingFriendCode = false\"\n        >\n          <mat-icon>cancel</mat-icon>\n        </button>\n      </div>\n    </mat-card>\n  </mat-grid-tile>\n  <mat-grid-tile colspan=\"1\" rowspan=\"1\">\n    <mat-card class=\"container\">\n      <h1>Add a friend:</h1>\n      <div style=\"width: 40%; height: 100%; float: left\">\n        <form (submit)=\"addFriend()\">\n          <mat-form-field class=\"formField\">\n            <input\n              matInput\n              class=\"inputField\"\n              name=\"friendCode\"\n              [(ngModel)]=\"addFriendCode\"\n              placeholder=\"Friend Code\"\n              type=\"text\"\n              color=\"primary\"\n            />\n          </mat-form-field>\n          <button mat-raised-button color=\"accent\" class=\"btn-block\">\n            Update\n          </button>\n        </form>\n      </div>\n    </mat-card>\n  </mat-grid-tile>\n</mat-grid-list>\n","import { Component, OnInit } from '@angular/core';\r\nimport { AuthenticationService, UserDetails } from '../authentication.service';\r\nimport { Stats, StatsService } from '../stats.service';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css'],\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  user: UserDetails;\r\n  stats: Stats;\r\n\r\n  constructor(\r\n    private auth: AuthenticationService,\r\n    private statsService: StatsService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.getUserDetails();\r\n  }\r\n\r\n  getUserDetails = () => {\r\n    this.auth.profile().subscribe(\r\n      (user) => {\r\n        this.user = user;\r\n        this.stats = this.statsService.getStats(user.bookList);\r\n      },\r\n      (err) => {\r\n        this.user = null;\r\n      }\r\n    );\r\n  };\r\n}\r\n","<div class=\"container\">\r\n  <mat-grid-list cols=\"3\" rowHeight=\"45%\">\r\n    <mat-grid-tile colspan=\"2\" rowspan=\"2\">\r\n      <div *ngIf=\"user\" style=\"position: absolute; left: 2%; top: 5%\">\r\n        <h1 style=\"padding-top: 1vh\">Welcome back, {{ user.name }}!</h1>\r\n        <!-- <h3 style=\"padding-top: 1vh\">\r\n        Are you still reading\r\n        <span style=\"font-style: italic\">The Power of Habit?</span>\r\n      </h3>\r\n      <button mat-raised-button color=\"primary\" style=\"padding-top: 1vh\">\r\n        You can update its entry here\r\n      </button> -->\r\n      </div>\r\n      <div *ngIf=\"!user\" style=\"position: absolute; left: 2%; top: 5%\">\r\n        <h1 style=\"padding-top: 1vh\">\r\n          Welcome to Book Hero, your complete solution for keeping track of and\r\n          sharing your book list!\r\n        </h1>\r\n      </div>\r\n    </mat-grid-tile>\r\n    <mat-grid-tile colspan=\"1\" rowspan=\"1\">\r\n      <mat-card style=\"height: 95%; width: 80%\" *ngIf=\"user\">\r\n        <h2>Stats</h2>\r\n        <h4 style=\"line-height: 12px\">Completed: {{ stats.completed }}</h4>\r\n        <h4 style=\"line-height: 12px\">Dropped: {{ stats.dropped }}</h4>\r\n        <h4 style=\"line-height: 12px\">On-hold: {{ stats.onHold }}</h4>\r\n        <h4 style=\"line-height: 12px\">Reading: {{ stats.reading }}</h4>\r\n        <h4 style=\"line-height: 12px\">Plan to read: {{ stats.planToRead }}</h4>\r\n        <h4 style=\"line-height: 12px\">Pages read: {{ stats.pagesRead }}</h4>\r\n        <h4 style=\"line-height: 12px\">\r\n          Average rating: {{ stats.averageRating }}\r\n        </h4>\r\n      </mat-card>\r\n    </mat-grid-tile>\r\n    <mat-grid-tile colspan=\"1\" rowspan=\"1\">\r\n      <mat-card style=\"height: 90%; width: 80%\" *ngIf=\"user\">\r\n        <h2>Friend Activity</h2>\r\n        <mat-card-content>\r\n          <h3>Coming soon!</h3>\r\n          <!-- <p>\r\n          John Doe is currently reading:\r\n          <span style=\"font-style: italic\"\r\n            >How to Win Friends and Influence People</span\r\n          >\r\n          ...\r\n        </p>\r\n        <p>\r\n          Bryan Horne is currently reading:\r\n          <span style=\"font-style: italic\">The Slight Edge</span>\r\n          by Jeff Olsen\r\n        </p>\r\n        <p>\r\n          Sally Johnson just finished:\r\n          <span style=\"font-style: italic\">The Art of War</span>\r\n          by Sun Tzu\r\n        </p> -->\r\n        </mat-card-content>\r\n      </mat-card>\r\n    </mat-grid-tile>\r\n  </mat-grid-list>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { AuthenticationService, TokenPayload } from '../authentication.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css'],\r\n})\r\nexport class LoginComponent {\r\n  credentials: TokenPayload = {\r\n    email: '',\r\n    password: '',\r\n  };\r\n\r\n  constructor(private auth: AuthenticationService, private router: Router) {}\r\n\r\n  login() {\r\n    this.auth.login(this.credentials).subscribe(\r\n      () => {\r\n        this.router.navigateByUrl('/profile');\r\n      },\r\n      (err) => {\r\n        console.error(err);\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"form-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n  <mat-card class=\"box\">\r\n    <mat-card-header>\r\n      <mat-card-title>Log in</mat-card-title>\r\n    </mat-card-header>\r\n\r\n    <form class=\"auth-form\" (submit)=\"login()\">\r\n      <mat-card-content>\r\n        <mat-form-field class=\"full-width\">\r\n          <input\r\n            matInput\r\n            type=\"email\"\r\n            class=\"\"\r\n            name=\"email\"\r\n            placeholder=\"Enter email\"\r\n            [(ngModel)]=\"credentials.email\"\r\n            placeholder=\"Email\"\r\n          />\r\n        </mat-form-field>\r\n\r\n        <mat-form-field class=\"full-width\">\r\n          <input\r\n            matInput\r\n            type=\"password\"\r\n            class=\"\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            [(ngModel)]=\"credentials.password\"\r\n            placeholder=\"Password\"\r\n          />\r\n        </mat-form-field>\r\n      </mat-card-content>\r\n      <button mat-stroked-button color=\"accent\" class=\"btn-block\" type=\"submit\">\r\n        Log in\r\n      </button>\r\n    </form>\r\n  </mat-card>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AuthenticationService, UserDetails } from '../authentication.service';\r\n\r\n@Component({\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.css'],\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  details: UserDetails;\r\n\r\n  constructor(private auth: AuthenticationService) {}\r\n\r\n  ngOnInit() {\r\n    this.auth.profile().subscribe(\r\n      (user) => {\r\n        this.details = user;\r\n      },\r\n      (err) => {\r\n        console.error(err);\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"form-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n  <mat-card class=\"box\">\r\n    <mat-card-header>\r\n      <mat-card-title>Your Profile</mat-card-title>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      <br />\r\n      <mat-action-row>\r\n        <h3>Full name</h3>\r\n        <p>{{ details?.name }}</p>\r\n      </mat-action-row>\r\n      <br />\r\n      <mat-action-row>\r\n        <h3>Email</h3>\r\n        <p>{{ details?.email }}</p>\r\n      </mat-action-row>\r\n    </mat-card-content>\r\n  </mat-card>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AuthenticationService, TokenPayload } from '../authentication.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css'],\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  credentials: TokenPayload = {\r\n    email: '',\r\n    name: '',\r\n    password: '',\r\n  };\r\n\r\n  constructor(private auth: AuthenticationService, private router: Router) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  register() {\r\n    this.auth.register(this.credentials).subscribe(\r\n      () => {\r\n        this.router.navigateByUrl('/profile');\r\n      },\r\n      (err) => {\r\n        console.error(err);\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"form-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n  <mat-card class=\"box\">\r\n    <mat-card-header>\r\n      <mat-card-title>Register</mat-card-title>\r\n    </mat-card-header>\r\n\r\n    <form class=\"auth-form\" (submit)=\"register()\">\r\n      <mat-card-content>\r\n        <mat-form-field class=\"full-width\">\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            class=\"\"\r\n            name=\"name\"\r\n            placeholder=\"Enter your name\"\r\n            [(ngModel)]=\"credentials.name\"\r\n          />\r\n        </mat-form-field>\r\n\r\n        <mat-form-field class=\"full-width\">\r\n          <input\r\n            matInput\r\n            type=\"email\"\r\n            class=\"\"\r\n            name=\"email\"\r\n            placeholder=\"Enter email\"\r\n            [(ngModel)]=\"credentials.email\"\r\n          />\r\n        </mat-form-field>\r\n\r\n        <mat-form-field class=\"full-width\">\r\n          <input\r\n            matInput\r\n            type=\"password\"\r\n            class=\"\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            [(ngModel)]=\"credentials.password\"\r\n          />\r\n        </mat-form-field>\r\n      </mat-card-content>\r\n\r\n      <button mat-stroked-button color=\"accent\" class=\"btn-block\">\r\n        Register\r\n      </button>\r\n    </form>\r\n  </mat-card>\r\n</div>\r\n","import { Injectable } from '@angular/core';\nimport { Book, BookListEntry } from './booklist/book';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class StatsService {\n  constructor() {}\n\n  public getStats(bookList: BookListEntry[]): Stats {\n    return {\n      completed: bookList.filter((entry) => entry.status == 'Completed').length,\n      dropped: bookList.filter((entry) => entry.status == 'Dropped').length,\n      onHold: bookList.filter((entry) => entry.status == 'On-hold').length,\n      reading: bookList.filter((entry) => entry.status == 'Reading').length,\n      planToRead: bookList.filter((entry) => entry.status == 'Plan to read')\n        .length,\n      pagesRead: this.getPagesRead(bookList),\n      averageRating: this.getAverageRating(bookList),\n    };\n  }\n\n  private getPagesRead(bookList: BookListEntry[]): number {\n    var total = 0;\n    bookList.forEach((entry) => (total += entry.currentPageCount));\n    return total;\n  }\n\n  private getAverageRating(bookList: BookListEntry[]): string {\n    if (bookList.filter((entry) => entry.rating).length == 0)\n      return 'Nothing has been rated';\n\n    var totalRating = 0;\n    var numberOfRatings = 0;\n\n    bookList.forEach((entry) => {\n      if (entry.rating) {\n        totalRating += entry.rating;\n        numberOfRatings++;\n      }\n    });\n\n    return (Math.round((totalRating / numberOfRatings) * 100) / 100).toFixed(2);\n  }\n\n  init(): Stats {\n    return {\n      completed: 0,\n      dropped: 0,\n      onHold: 0,\n      reading: 0,\n      planToRead: 0,\n      pagesRead: 0,\n      averageRating: '0',\n    };\n  }\n}\n\nexport interface Stats {\n  completed: number;\n  dropped: number;\n  onHold: number;\n  reading: number;\n  planToRead: number;\n  pagesRead: number;\n  averageRating: string;\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-timeline',\n  templateUrl: './timeline.component.html',\n  styleUrls: ['./timeline.component.scss']\n})\nexport class TimelineComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"container\">\n  <div class=\"wrapper\">\n    <h1>Timeline Page Coming Soon<span class=\"dot\">.</span></h1>\n  </div>\n</div>\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { AuthenticationService } from './authentication.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class UsersService {\n  constructor(private http: HttpClient, private auth: AuthenticationService) {}\n\n  public getUser(id: number): Observable<any> {\n    return this.http.get('api/users/' + id.toString());\n  }\n\n  public addFriend(friendCode: string): Observable<any> {\n    return this.http.post(\n      'api/users/add-friend',\n      { friendCode: friendCode },\n      {\n        headers: { Authorization: `Bearer ${this.auth.getToken()}` },\n      }\n    );\n  }\n\n  public updateFriendCode(friendCode: string): Observable<any> {\n    return this.http.post(\n      'api/users/set-friend-code/',\n      {\n        friendCode: friendCode,\n      },\n      {\n        headers: { Authorization: `Bearer ${this.auth.getToken()}` },\n      }\n    );\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch((err) => console.error(err));\r\n"]}